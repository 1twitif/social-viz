iconSize=45px
layerHeight=60px
debordementAuSurvol=200px
jaugeExpend=8px


#legend
	width 180px
	background-color #a5bfc0
	position fixed
	top 0
	left 0
	bottom 0
	display flex
	flex-direction column
	.header
		display flex
		position relative
		z-index 5
		background-color #a5bfc0
		h2
			flex 9
			line-height layerHeight
			text-align center
		a
			flex 1
			display block
	.left, .icon
		height layerHeight
		width iconSize + 10px
		img
			height iconSize
			width iconSize
			margin ((layerHeight - iconSize)/2) 5px

	.wrapper
		height calc(100% - 60px)
		position relative
	ul
		position relative
		//overflow auto  // défilement géré via js selon position de la sourie
		//direction rtl
	.layer
		display block
		//direction ltr
	.layer.final>.layerLine>.right
		padding-right 4px
		width 24px

	.layerLine
		height layerHeight
		display flex
		position relative
		//margin-bottom 4px
		background-color #a5bfc0
		text-align left
		.title
			line-height layerHeight
			padding-left 5px
			overflow hidden
		>*
			position relative
			background-color #a5bfc0
			z-index 2
		&:hover
			>*
				background-color lighten(#a5bfc0, 30%)
			>.rightExtension
				right - debordementAuSurvol
				width debordementAuSurvol
				background-color lighten(#a5bfc0, 30%)
			>.jauge
				width 4px + jaugeExpend
				margin-right - jaugeExpend
		.rightExtension
			overflow-x hidden
			overflow-y auto
			padding 5px
			padding-left 5px + jaugeExpend
			height layerHeight
			background-color #a5bfc0
			position absolute
			z-index 1
			transition all 0.5s
			width 100%
			right 0

		.left
			position:relative
			width iconSize + 10px
			.layerEntityCount
				position absolute
				bottom 2px
				right 0
				background-color #eee
				border-radius 4px
				padding 0 2px
		.middle
			flex 9 70px
			overflow hidden

		.right
			width 20px
			text-align center
			line-height (layerHeight/2)
			.unfold, .fold
				color black
				text-decoration none
				font-weight bold
				font-size 24px
				display block
			.fold
				display none
			/*
			input // taille checkbox
				width 16px
				height 16px
			*/


		.jauge
			position relative
			height layerHeight
			width 4px
			background-color darken(#a5bfc0, 10%)
			transition all 0.5s
			.fill
				position absolute
				bottom 0
				right 0
				width 100%
				background-color darken(#a5bfc0, 30%)
				//height (2*layerHeight/5)

	.subLayers
		margin-left 1px
		border-width 0
		border-left-width 2px
		border-style solid
		border-color darken(#a5bfc0, 50%)
		>.layer>.layerLine
			transition all 0.5s
			height 0
			margin 0
		>.layer>.subLayers
			display none
	.layer.expanded>.layerLine
		>.right>.fold
			display block
		>.right>.unfold
			display none

	.layer.expanded>.subLayers
		border-bottom-width 1px
		margin-bottom 1px
		>.layer>.layerLine
			height layerHeight
			//margin-bottom 4px
		>.layer>.subLayers
			display block

