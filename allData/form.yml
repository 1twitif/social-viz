node: # nom réservé, utiliser la trad pour le changer
  - mainType:
      from: enum.node.mainType
  - if:
      condition: mainType = "Personne physique"
      then:
        - surname:
            required: true
        - firstname
        - label:
            autoCalc: concat(firstname,' ',surname)
        - Naissance:
            dataType: date
        - Mort:
            dataType: date
        - ActivitéPrincipale:
            from: enum.lien.fonction
        - comments:
           dataType: markdown
        - sources:
           dataType: markdown
           access: private
  - if:
      condition: mainType = "Personne morale"
      then:
        - RaisonSociale:
            required: true
        - label:
            autoCalc: RaisonSociale
        - Statut:
            from: enum.node.statut
        - SecteurActivité:
            from: enum.node.secteur
        - if:
            condition: SecteurActivité = "Hydrocarbures"
            then:
              - ActivitéHydrocarbure:
                  from: enum.node.activitéHydrocarbure
        - if:
            condition: SecteurActivité = "Autre"
            then:
              - Indiquez le secteur d'activité
        - SiègeSocial
        - comments:
           dataType: markdown
        - sources:
           dataType: markdown
           access: private
  - if:
      condition: mainType = "Publication"
      then:
        - Titre:
            required: true
        - label:
            autoCalc: Titre
        - TypePublication :
            from: enum.node.typeDePublication
        - DatePublication:
            dataType: date
        - MaisonEdition
        - comments:
           dataType: markdown
        - sources:
           dataType: markdown
           access: private
  - if:
      condition: mainType = "Evènement"
      then:
        - NomEvènement:
            required: true
        - label:
            autoCalc: NomEvènement
        - DateEvènement:
            dataType: date
        - LieuEvènement:
        - comments:
           dataType: markdown
        - sources:
           dataType: markdown
           access: private
  - if:
      condition: mainType = "Lieu"
      then:
        - NomLieu:
            required: true
        - label:
            autoCalc: NomLieu
        - TypeLieu:
            from: enum.node.lieu
        - SiègeSocial
        - comments:
           dataType: markdown
        - sources:
           dataType: markdown
           access: private
  - if:
      condition: mainType = "Projet"
      then:
        - NomProjet:
            required: true
        - label:
            autoCalc: NomProjet
        - TypeProjet :
            from: enum.node.projet
        - SiègeSocial
        - comments:
           dataType: markdown
        - sources:
           dataType: markdown
           access: private
link: # nom réservé, utiliser la trad pour le changer
  - source: # nom réservé, utiliser la trad pour le changer (même pour y rajouter une majuscule)
      from: node
  - target: # nom réservé, utiliser la trad pour le changer
      from: node
  - if:
      condition: /node/*[id=/activeForm/source and mainType = 'Personne physique'] and /node/*[id=/activeForm/target and mainType = 'Personne morale']
      then:
        - Fonction:
            from: enum.lien.fonction
        - label :
            autoCalc: Fonction
  - if:
      condition: not(/node/*[id=/activeForm/source and mainType = 'Personne physique'] and /node/*[id=/activeForm/target and mainType = 'Personne morale'])
      then:
        - TypeDeLien:
            from: enum.lien.typeDeLien
        - label:
            autoCalc: TypeDeLien
  - DébutLien:
      dataType: date
  - FinLien:
      dataType: date
  - comments:
      dataType: markdown
  - sources:
      dataType: markdown
      access: private

enum:
  node:
    mainType:
      - Personne physique
      - Personne morale
      - Publication
      - Evènement
      - Lieu
      - Projet
    statut:
      - Administration d'Etat
      - Administration provinciale
      - Entreprise locale publique
      - Agence et établissement public
      - Association
      - Consortium
      - Entreprise d’Etat
      - Entreprise locale privée
      - Entreprise locale publique
      - Entreprise nationale privée
      - Entreprise transnationale
      - Fondation
      - Institut
      - Mairie
      - Media
      - Parlement provincial
      - Parti politique
      - Sénat
      - Syndicat
      - Tribunal national
      - Tribunal provincial
      - Université
    secteur:
      - Administration
      - Assurance
      - Banque
      - Chimie
      - Communication
      - Construction
      - Electricité
      - Enseignement & RD
      - Hydrocarbures
      - Lobbying
      - Transport
      - Agroalimentaire
      - Autre
    activitéHydrocarbure:
      - Extraction
      - Ingénierie – Service - Maintenance
      - Fournisseur d’eau
      - Fournisseur de produits chimiques
      - Fournisseur de sable ou de proppant
      - Ingénierie – Maintenance
      - Lobbying
      - Sécurité
      - Traitement des déchets
      - Tubage
      - Autre
    lieu:
      - Ville
      - Batiment
    typeDePublication:
      - Magazine
      - Rapport
      - Livre
    projet:
      - Exploration
      - Exploitation
  lien:
    typeDeLien:
      - Editeur
      - Emploi
      - Entrepôt
      - Familial
      - Financement
      - Gouvernance
      - Lobbying
      - Organisation
      - Partenariat académique
      - Partenariat économique
      - Partenariat technique
      - Prestation
      - Membre
      - Proche
      - Saisine
      - Siège
      - Sous-tutelle
      - Autre
    fonction:
      - Administrateur
      - Avocat
      - Cadre supérieur
      - Député provincial
      - Enseignant -  Chercheur
      - Gouverneur
      - Haut fonctionnaire
      - Journaliste
      - Magistrat
      - Maire
      - Membre
      - Ministre ou Secrétaire
      - Président
      - Sénateur
      - Syndicaliste
      - Vice-gouverneur
      - Autre

